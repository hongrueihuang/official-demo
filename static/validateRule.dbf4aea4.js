import{a as le,r as Ce,c as E,u as P,n as de,l as On,a3 as Ie,w as be,p as Vn,aa as A,ab as $n,P as Ln,s as qn,d as Qe,t as ye,H as xe,f as Pe,i as pn,o as Hn,g as Ne}from"./swiper-vue.f129d564.js";/**
  * vee-validate v4.12.2
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function q(e){return typeof e=="function"}function Sn(e){return e==null}const Oe=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function en(e){return Number(e)>=0}function Wn(e){const n=parseFloat(e);return isNaN(n)?e:n}function Gn(e){return typeof e=="object"&&e!==null}function Kn(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Yn(e){if(!Gn(e)||Kn(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function Ae(e,n){return Object.keys(n).forEach(t=>{if(Yn(n[t])){e[t]||(e[t]={}),Ae(e[t],n[t]);return}e[t]=n[t]}),e}function _e(e){const n=e.split(".");if(!n.length)return"";let t=String(n[0]);for(let i=1;i<n.length;i++){if(en(n[i])){t+=`[${n[i]}]`;continue}t+=`.${n[i]}`}return t}const Zn={};function Xn(e){return Zn[e]}function dn(e,n,t){typeof t.value=="object"&&(t.value=F(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||n==="__proto__"?Object.defineProperty(e,n,t):e[n]=t.value}function F(e){if(typeof e!="object")return e;var n=0,t,i,a,u=Object.prototype.toString.call(e);if(u==="[object Object]"?a=Object.create(e.__proto__||null):u==="[object Array]"?a=Array(e.length):u==="[object Set]"?(a=new Set,e.forEach(function(s){a.add(F(s))})):u==="[object Map]"?(a=new Map,e.forEach(function(s,v){a.set(F(v),F(s))})):u==="[object Date]"?a=new Date(+e):u==="[object RegExp]"?a=new RegExp(e.source,e.flags):u==="[object DataView]"?a=new e.constructor(F(e.buffer)):u==="[object ArrayBuffer]"?a=e.slice(0):u.slice(-6)==="Array]"&&(a=new e.constructor(e)),a){for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)dn(a,i[n],Object.getOwnPropertyDescriptor(e,i[n]));for(n=0,i=Object.getOwnPropertyNames(e);n<i.length;n++)Object.hasOwnProperty.call(a,t=i[n])&&a[t]===e[t]||dn(a,t,Object.getOwnPropertyDescriptor(e,t))}return a||e}const Te=Symbol("vee-validate-form"),Jn=Symbol("vee-validate-field-instance"),we=Symbol("Default empty value"),Qn=typeof window<"u";function Ye(e){return q(e)&&!!e.__locatorRef}function ae(e){return!!e&&q(e.parse)&&e.__type==="VVTypedSchema"}function Be(e){return!!e&&q(e.validate)}function Ee(e){return e==="checkbox"||e==="radio"}function xn(e){return Oe(e)||Array.isArray(e)}function et(e){return Array.isArray(e)?e.length===0:Oe(e)&&Object.keys(e).length===0}function Re(e){return/^\[.+\]$/i.test(e)}function nt(e){return _n(e)&&e.multiple}function _n(e){return e.tagName==="SELECT"}function tt(e,n){const t=![!1,null,void 0,0].includes(n.multiple)&&!Number.isNaN(n.multiple);return e==="select"&&"multiple"in n&&t}function rt(e,n){return!tt(e,n)&&n.type!=="file"&&!Ee(n.type)}function An(e){return nn(e)&&e.target&&"submit"in e.target}function nn(e){return e?!!(typeof Event<"u"&&q(Event)&&e instanceof Event||e&&e.srcElement):!1}function cn(e,n){return n in e&&e[n]!==we}function G(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var t,i,a;if(Array.isArray(e)){if(t=e.length,t!=n.length)return!1;for(i=t;i--!==0;)if(!G(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!G(i[1],n.get(i[0])))return!1;return!0}if(fn(e)&&fn(n))return!(e.size!==n.size||e.name!==n.name||e.lastModified!==n.lastModified||e.type!==n.type);if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(t=e.length,t!=n.length)return!1;for(i=t;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();for(a=Object.keys(e),t=a.length,i=t;i--!==0;){var u=a[i];if(!G(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}function fn(e){return Qn?e instanceof File:!1}function tn(e){return Re(e)?e.replace(/\[|\]/gi,""):e}function X(e,n,t){return e?Re(n)?e[tn(n)]:(n||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((a,u)=>xn(a)&&u in a?a[u]:t,e):t}function he(e,n,t){if(Re(n)){e[tn(n)]=t;return}const i=n.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let u=0;u<i.length;u++){if(u===i.length-1){a[i[u]]=t;return}(!(i[u]in a)||Sn(a[i[u]]))&&(a[i[u]]=en(i[u+1])?[]:{}),a=a[i[u]]}}function Ge(e,n){if(Array.isArray(e)&&en(n)){e.splice(Number(n),1);return}Oe(e)&&delete e[n]}function vn(e,n){if(Re(n)){delete e[tn(n)];return}const t=n.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<t.length;u++){if(u===t.length-1){Ge(i,t[u]);break}if(!(t[u]in i)||Sn(i[t[u]]))break;i=i[t[u]]}const a=t.map((u,s)=>X(e,t.slice(0,s).join(".")));for(let u=a.length-1;u>=0;u--)if(et(a[u])){if(u===0){Ge(e,t[0]);continue}Ge(a[u-1],t[u-1])}}function re(e){return Object.keys(e)}function En(e,n=void 0){const t=Ne();return(t==null?void 0:t.provides[e])||pn(e,n)}function hn(e,n,t){if(Array.isArray(e)){const i=[...e],a=i.findIndex(u=>G(u,n));return a>=0?i.splice(a,1):i.push(n),i}return G(e,n)?t:n}function mn(e,n=0){let t=null,i=[];return function(...a){return t&&clearTimeout(t),t=setTimeout(()=>{const u=e(...a);i.forEach(s=>s(u)),i=[]},n),new Promise(u=>i.push(u))}}function it(e,n){return Oe(n)&&n.number?Wn(e):e}function Ze(e,n){let t;return async function(...a){const u=e(...a);t=u;const s=await u;return u!==t?s:(t=void 0,n(s,a))}}function Xe(e){return Array.isArray(e)?e:e?[e]:[]}function Fe(e,n){const t={};for(const i in e)n.includes(i)||(t[i]=e[i]);return t}function lt(e){let n=null,t=[];return function(...i){const a=de(()=>{if(n!==a)return;const u=e(...i);t.forEach(s=>s(u)),t=[],n=null});return n=a,new Promise(u=>t.push(u))}}function rn(e,n,t){return n.slots.default?typeof e=="string"||!e?n.slots.default(t()):{default:()=>{var i,a;return(a=(i=n.slots).default)===null||a===void 0?void 0:a.call(i,t())}}:n.slots.default}function Ke(e){if(jn(e))return e._value}function jn(e){return"_value"in e}function at(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function ke(e){if(!nn(e))return e;const n=e.target;if(Ee(n.type)&&jn(n))return Ke(n);if(n.type==="file"&&n.files){const t=Array.from(n.files);return n.multiple?t:t[0]}if(nt(n))return Array.from(n.options).filter(t=>t.selected&&!t.disabled).map(Ke);if(_n(n)){const t=Array.from(n.options).find(i=>i.selected);return t?Ke(t):n.value}return at(n)}function Fn(e){const n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Oe(e)&&e._$$isNormalized?e:Oe(e)?Object.keys(e).reduce((t,i)=>{const a=ut(e[i]);return e[i]!==!1&&(t[i]=yn(a)),t},n):typeof e!="string"?n:e.split("|").reduce((t,i)=>{const a=ot(i);return a.name&&(t[a.name]=yn(a.params)),t},n):n}function ut(e){return e===!0?[]:Array.isArray(e)||Oe(e)?e:[e]}function yn(e){const n=t=>typeof t=="string"&&t[0]==="@"?st(t.slice(1)):t;return Array.isArray(e)?e.map(n):e instanceof RegExp?[e]:Object.keys(e).reduce((t,i)=>(t[i]=n(e[i]),t),{})}const ot=e=>{let n=[];const t=e.split(":")[0];return e.includes(":")&&(n=e.split(":").slice(1).join(":").split(",")),{name:t,params:n}};function st(e){const n=t=>X(t,e)||t[e];return n.__locatorRef=e,n}function dt(e){return Array.isArray(e)?e.filter(Ye):re(e).filter(n=>Ye(e[n])).map(n=>e[n])}const ct={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ft=Object.assign({},ct);const ge=()=>ft;async function Mn(e,n,t={}){const i=t==null?void 0:t.bails,a={name:(t==null?void 0:t.name)||"{field}",rules:n,label:t==null?void 0:t.label,bails:i??!0,formData:(t==null?void 0:t.values)||{}},s=(await vt(a,e)).errors;return{errors:s,valid:!s.length}}async function vt(e,n){if(ae(e.rules)||Be(e.rules))return mt(n,e.rules);if(q(e.rules)||Array.isArray(e.rules)){const s={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:n},v=Array.isArray(e.rules)?e.rules:[e.rules],d=v.length,c=[];for(let p=0;p<d;p++){const g=v[p],_=await g(n,s);if(!(typeof _!="string"&&!Array.isArray(_)&&_)){if(Array.isArray(_))c.push(..._);else{const w=typeof _=="string"?_:In(s);c.push(w)}if(e.bails)return{errors:c}}}return{errors:c}}const t=Object.assign(Object.assign({},e),{rules:Fn(e.rules)}),i=[],a=Object.keys(t.rules),u=a.length;for(let s=0;s<u;s++){const v=a[s],d=await yt(t,n,{name:v,params:t.rules[v]});if(d.error&&(i.push(d.error),e.bails))return{errors:i}}return{errors:i}}function ht(e){return!!e&&e.name==="ValidationError"}function Cn(e){return{__type:"VVTypedSchema",async parse(t){var i;try{return{output:await e.validate(t,{abortEarly:!1}),errors:[]}}catch(a){if(!ht(a))throw a;if(!(!((i=a.inner)===null||i===void 0)&&i.length)&&a.errors.length)return{errors:[{path:a.path,errors:a.errors}]};const u=a.inner.reduce((s,v)=>{const d=v.path||"";return s[d]||(s[d]={errors:[],path:d}),s[d].errors.push(...v.errors),s},{});return{errors:Object.values(u)}}}}}async function mt(e,n){const i=await(ae(n)?n:Cn(n)).parse(e),a=[];for(const u of i.errors)u.errors.length&&a.push(...u.errors);return{errors:a}}async function yt(e,n,t){const i=Xn(t.name);if(!i)throw new Error(`No such validator '${t.name}' exists.`);const a=gt(t.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:n,form:e.formData,rule:Object.assign(Object.assign({},t),{params:a})},s=await i(n,a,u);return typeof s=="string"?{error:s}:{error:s?void 0:In(u)}}function In(e){const n=ge().generateMessage;return n?n(e):"Field is invalid"}function gt(e,n){const t=i=>Ye(i)?i(n):i;return Array.isArray(e)?e.map(t):Object.keys(e).reduce((i,a)=>(i[a]=t(e[a]),i),{})}async function bt(e,n){const i=await(ae(e)?e:Cn(e)).parse(F(n)),a={},u={};for(const s of i.errors){const v=s.errors,d=(s.path||"").replace(/\["(\d+)"\]/g,(c,p)=>`[${p}]`);a[d]={valid:!v.length,errors:v},v.length&&(u[d]=v[0])}return{valid:!i.errors.length,results:a,errors:u,values:i.value}}async function Ot(e,n,t){const a=re(e).map(async c=>{var p,g,_;const O=(p=t==null?void 0:t.names)===null||p===void 0?void 0:p[c],w=await Mn(X(n,c),e[c],{name:(O==null?void 0:O.name)||c,label:O==null?void 0:O.label,values:n,bails:(_=(g=t==null?void 0:t.bailsMap)===null||g===void 0?void 0:g[c])!==null&&_!==void 0?_:!0});return Object.assign(Object.assign({},w),{path:c})});let u=!0;const s=await Promise.all(a),v={},d={};for(const c of s)v[c.path]={valid:c.valid,errors:c.errors},c.valid||(u=!1,d[c.path]=c.errors[0]);return{valid:u,results:v,errors:d}}let gn=0;function Vt(e,n){const{value:t,initialValue:i,setInitialValue:a}=pt(e,n.modelValue,n.form);if(!n.form){let _=function(O){var w;"value"in O&&(t.value=O.value),"errors"in O&&c(O.errors),"touched"in O&&(g.touched=(w=O.touched)!==null&&w!==void 0?w:g.touched),"initialValue"in O&&a(O.initialValue)};const{errors:d,setErrors:c}=At(),p=gn>=Number.MAX_SAFE_INTEGER?0:++gn,g=_t(t,i,d,n.schema);return{id:p,path:e,value:t,initialValue:i,meta:g,flags:{pendingUnmount:{[p]:!1},pendingReset:!1},errors:d,setState:_}}const u=n.form.createPathState(e,{bails:n.bails,label:n.label,type:n.type,validate:n.validate,schema:n.schema}),s=E(()=>u.errors);function v(d){var c,p,g;"value"in d&&(t.value=d.value),"errors"in d&&((c=n.form)===null||c===void 0||c.setFieldError(P(e),d.errors)),"touched"in d&&((p=n.form)===null||p===void 0||p.setFieldTouched(P(e),(g=d.touched)!==null&&g!==void 0?g:!1)),"initialValue"in d&&a(d.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:t,errors:s,meta:u,initialValue:i,flags:u.__flags,setState:v}}function pt(e,n,t){const i=le(P(n));function a(){return t?X(t.initialValues.value,P(e),P(i)):P(i)}function u(c){if(!t){i.value=c;return}t.setFieldInitialValue(P(e),c,!0)}const s=E(a);if(!t)return{value:le(a()),initialValue:s,setInitialValue:u};const v=St(n,t,s,e);return t.stageInitialValue(P(e),v,!0),{value:E({get(){return X(t.values,P(e))},set(c){t.setFieldValue(P(e),c,!1)}}),initialValue:s,setInitialValue:u}}function St(e,n,t,i){return Ie(e)?P(e):e!==void 0?e:X(n.values,P(i),P(t))}function _t(e,n,t,i){var a,u;const s=(u=(a=i==null?void 0:i.describe)===null||a===void 0?void 0:a.call(i).required)!==null&&u!==void 0?u:!1,v=Ce({touched:!1,pending:!1,valid:!0,required:s,validated:!!P(t).length,initialValue:E(()=>P(n)),dirty:E(()=>!G(P(e),P(n)))});return be(t,d=>{v.valid=!d.length},{immediate:!0,flush:"sync"}),v}function At(){const e=le([]);return{errors:e,setErrors:n=>{e.value=Xe(n)}}}function Et(e,n,t){return Ee(t==null?void 0:t.type)?Ft(e,n,t):Pn(e,n,t)}function Pn(e,n,t){const{initialValue:i,validateOnMount:a,bails:u,type:s,checkedValue:v,label:d,validateOnValueUpdate:c,uncheckedValue:p,controlled:g,keepValueOnUnmount:_,syncVModel:O,form:w}=jt(t),J=g?En(Te):void 0,b=w||J,L=E(()=>_e(A(e))),z=E(()=>{if(A(b==null?void 0:b.schema))return;const V=P(n);return Be(V)||ae(V)||q(V)||Array.isArray(V)?V:Fn(V)}),{id:H,value:Q,initialValue:x,meta:B,setState:ie,errors:k,flags:D}=Vt(L,{modelValue:i,form:b,bails:u,label:d,type:s,validate:z.value?ne:void 0,schema:ae(n)?n:void 0}),T=E(()=>k.value[0]);O&&Mt({value:Q,prop:O,handleChange:S,shouldValidate:()=>c&&!D.pendingReset});const ue=(h,V=!1)=>{B.touched=!0,V&&ee()};async function ce(h){var V,C;if(b!=null&&b.validateSchema){const{results:M}=await b.validateSchema(h);return(V=M[A(L)])!==null&&V!==void 0?V:{valid:!0,errors:[]}}return z.value?Mn(Q.value,z.value,{name:A(L),label:A(d),values:(C=b==null?void 0:b.values)!==null&&C!==void 0?C:{},bails:u}):{valid:!0,errors:[]}}const ee=Ze(async()=>(B.pending=!0,B.validated=!0,ce("validated-only")),h=>(D.pendingUnmount[W.id]||(ie({errors:h.errors}),B.pending=!1,B.valid=h.valid),h)),K=Ze(async()=>ce("silent"),h=>(B.valid=h.valid,h));function ne(h){return(h==null?void 0:h.mode)==="silent"?K():ee()}function S(h,V=!0){const C=ke(h);pe(C,V)}On(()=>{if(a)return ee();(!b||!b.validateSchema)&&K()});function Y(h){B.touched=h}function oe(h){var V;const C=h&&"value"in h?h.value:x.value;ie({value:F(C),initialValue:F(C),touched:(V=h==null?void 0:h.touched)!==null&&V!==void 0?V:!1,errors:(h==null?void 0:h.errors)||[]}),B.pending=!1,B.validated=!1,K()}const ve=Ne();function pe(h,V=!0){Q.value=ve&&O?it(h,ve.props.modelModifiers):h,(V?ee:K)()}function je(h){ie({errors:Array.isArray(h)?h:[h]})}const ln=E({get(){return Q.value},set(h){pe(h,c)}}),W={id:H,name:L,label:d,value:ln,meta:B,errors:k,errorMessage:T,type:s,checkedValue:v,uncheckedValue:p,bails:u,keepValueOnUnmount:_,resetField:oe,handleReset:()=>oe(),validate:ne,handleChange:S,handleBlur:ue,setState:ie,setTouched:Y,setErrors:je,setValue:pe};if(Vn(Jn,W),Ie(n)&&typeof P(n)!="function"&&be(n,(h,V)=>{G(h,V)||(B.validated?ee():K())},{deep:!0}),!b)return W;const Ue=E(()=>{const h=z.value;return!h||q(h)||Be(h)||ae(h)||Array.isArray(h)?{}:Object.keys(h).reduce((V,C)=>{const M=dt(h[C]).map(fe=>fe.__locatorRef).reduce((fe,se)=>{const te=X(b.values,se)||b.values[se];return te!==void 0&&(fe[se]=te),fe},{});return Object.assign(V,M),V},{})});return be(Ue,(h,V)=>{if(!Object.keys(h).length)return;!G(h,V)&&(B.validated?ee():K())}),Hn(()=>{var h;const V=(h=A(W.keepValueOnUnmount))!==null&&h!==void 0?h:A(b.keepValuesOnUnmount),C=A(L);if(V||!b||D.pendingUnmount[W.id]){b==null||b.removePathState(C,H);return}D.pendingUnmount[W.id]=!0;const M=b.getPathState(C);if(Array.isArray(M==null?void 0:M.id)&&(M!=null&&M.multiple)?M!=null&&M.id.includes(W.id):(M==null?void 0:M.id)===W.id){if(M!=null&&M.multiple&&Array.isArray(M.value)){const se=M.value.findIndex(te=>G(te,A(W.checkedValue)));if(se>-1){const te=[...M.value];te.splice(se,1),b.setFieldValue(C,te)}Array.isArray(M.id)&&M.id.splice(M.id.indexOf(W.id),1)}else b.unsetPathValue(A(L));b.removePathState(C,H)}}),W}function jt(e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),t=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",a=t&&!("initialValue"in(e||{}))?Je(Ne(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:a});const u="valueProp"in e?e.valueProp:e.checkedValue,s="standalone"in e?!e.standalone:e.controlled,v=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:a,controlled:s??!0,checkedValue:u,syncVModel:v})}function Ft(e,n,t){const i=t!=null&&t.standalone?void 0:En(Te),a=t==null?void 0:t.checkedValue,u=t==null?void 0:t.uncheckedValue;function s(v){const d=v.handleChange,c=E(()=>{const g=A(v.value),_=A(a);return Array.isArray(g)?g.findIndex(O=>G(O,_))>=0:G(_,g)});function p(g,_=!0){var O,w;if(c.value===((O=g==null?void 0:g.target)===null||O===void 0?void 0:O.checked)){_&&v.validate();return}const J=A(e),b=i==null?void 0:i.getPathState(J),L=ke(g);let z=(w=A(a))!==null&&w!==void 0?w:L;i&&(b!=null&&b.multiple)&&b.type==="checkbox"?z=hn(X(i.values,J)||[],z,void 0):(t==null?void 0:t.type)==="checkbox"&&(z=hn(A(v.value),z,A(u))),d(z,_)}return Object.assign(Object.assign({},v),{checked:c,checkedValue:a,uncheckedValue:u,handleChange:p})}return s(Pn(e,n,t))}function Mt({prop:e,value:n,handleChange:t,shouldValidate:i}){const a=Ne();if(!a||!e)return;const u=typeof e=="string"?e:"modelValue",s=`update:${u}`;u in a.props&&(be(n,v=>{G(v,Je(a,u))||a.emit(s,v)}),be(()=>Je(a,u),v=>{if(v===we&&n.value===void 0)return;const d=v===we?void 0:v;G(d,n.value)||t(d,i())}))}function Je(e,n){if(e)return e.props[n]}const Ct=Qe({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ge().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:we},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,n){const t=ye(e,"rules"),i=ye(e,"name"),a=ye(e,"label"),u=ye(e,"uncheckedValue"),s=ye(e,"keepValue"),{errors:v,value:d,errorMessage:c,validate:p,handleChange:g,handleBlur:_,setTouched:O,resetField:w,handleReset:J,meta:b,checked:L,setErrors:z}=Et(i,t,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:n.attrs.type,initialValue:Pt(e,n),checkedValue:n.attrs.value,uncheckedValue:u,label:a,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:s,syncVModel:!0}),H=function(D,T=!0){g(D,T)},Q=E(()=>{const{validateOnInput:k,validateOnChange:D,validateOnBlur:T,validateOnModelUpdate:ue}=It(e);function ce(S){_(S,T),q(n.attrs.onBlur)&&n.attrs.onBlur(S)}function ee(S){H(S,k),q(n.attrs.onInput)&&n.attrs.onInput(S)}function K(S){H(S,D),q(n.attrs.onChange)&&n.attrs.onChange(S)}const ne={name:e.name,onBlur:ce,onInput:ee,onChange:K};return ne["onUpdate:modelValue"]=S=>H(S,ue),ne}),x=E(()=>{const k=Object.assign({},Q.value);Ee(n.attrs.type)&&L&&(k.checked=L.value);const D=bn(e,n);return rt(D,n.attrs)&&(k.value=d.value),k}),B=E(()=>Object.assign(Object.assign({},Q.value),{modelValue:d.value}));function ie(){return{field:x.value,componentField:B.value,value:d.value,meta:b,errors:v.value,errorMessage:c.value,validate:p,resetField:w,handleChange:H,handleInput:k=>H(k,!1),handleReset:J,handleBlur:Q.value.onBlur,setTouched:O,setErrors:z}}return n.expose({value:d,meta:b,errors:v,errorMessage:c,setErrors:z,setTouched:O,reset:w,validate:p,handleChange:g}),()=>{const k=xe(bn(e,n)),D=rn(k,n,ie);return k?Pe(k,Object.assign(Object.assign({},n.attrs),x.value),D):D}}});function bn(e,n){let t=e.as||"";return!e.as&&!n.slots.default&&(t="input"),t}function It(e){var n,t,i,a;const{validateOnInput:u,validateOnChange:s,validateOnBlur:v,validateOnModelUpdate:d}=ge();return{validateOnInput:(n=e.validateOnInput)!==null&&n!==void 0?n:u,validateOnChange:(t=e.validateOnChange)!==null&&t!==void 0?t:s,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:v,validateOnModelUpdate:(a=e.validateOnModelUpdate)!==null&&a!==void 0?a:d}}function Pt(e,n){return Ee(n.attrs.type)?cn(e,"modelValue")?e.modelValue:void 0:cn(e,"modelValue")?e.modelValue:n.attrs.value}const Dt=Ct;let wt=0;const Me=["bails","fieldsCount","id","multiple","type","validate"];function wn(e){const n=A((e==null?void 0:e.initialValues)||{}),t=P(e==null?void 0:e.validationSchema);return t&&ae(t)&&q(t.cast)?F(t.cast(n)||{}):F(n)}function Bt(e){var n;const t=wt++;let i=0;const a=le(!1),u=le(!1),s=le(0),v=[],d=Ce(wn(e)),c=le([]),p=le({}),g=le({}),_=lt(()=>{g.value=c.value.reduce((l,r)=>(l[_e(A(r.path))]=r,l),{})});function O(l,r){const o=S(l);if(!o){typeof l=="string"&&(p.value[_e(l)]=Xe(r));return}if(typeof l=="string"){const f=_e(l);p.value[f]&&delete p.value[f]}o.errors=Xe(r),o.valid=!o.errors.length}function w(l){re(l).forEach(r=>{O(r,l[r])})}e!=null&&e.initialErrors&&w(e.initialErrors);const J=E(()=>{const l=c.value.reduce((r,o)=>(o.errors.length&&(r[o.path]=o.errors),r),{});return Object.assign(Object.assign({},p.value),l)}),b=E(()=>re(J.value).reduce((l,r)=>{const o=J.value[r];return o!=null&&o.length&&(l[r]=o[0]),l},{})),L=E(()=>c.value.reduce((l,r)=>(l[r.path]={name:r.path||"",label:r.label||""},l),{})),z=E(()=>c.value.reduce((l,r)=>{var o;return l[r.path]=(o=r.bails)!==null&&o!==void 0?o:!0,l},{})),H=Object.assign({},(e==null?void 0:e.initialErrors)||{}),Q=(n=e==null?void 0:e.keepValuesOnUnmount)!==null&&n!==void 0?n:!1,{initialValues:x,originalInitialValues:B,setInitialValues:ie}=Nt(c,d,e),k=kt(c,d,B,b),D=E(()=>c.value.reduce((l,r)=>{const o=X(d,r.path);return he(l,r.path,o),l},{})),T=e==null?void 0:e.validationSchema;function ue(l,r){var o,f;const y=E(()=>X(x.value,A(l))),m=g.value[A(l)],j=(r==null?void 0:r.type)==="checkbox"||(r==null?void 0:r.type)==="radio";if(m&&j){m.multiple=!0;const U=i++;return Array.isArray(m.id)?m.id.push(U):m.id=[m.id,U],m.fieldsCount++,m.__flags.pendingUnmount[U]=!1,m}const N=E(()=>X(d,A(l))),R=A(l),Z=E(()=>{var U,Se,qe,sn,He,We;return ae(T)?(qe=(Se=(U=T).describe)===null||Se===void 0?void 0:Se.call(U,A(l)).required)!==null&&qe!==void 0?qe:!1:ae(r==null?void 0:r.schema)&&(We=(He=(sn=r==null?void 0:r.schema).describe)===null||He===void 0?void 0:He.call(sn).required)!==null&&We!==void 0?We:!1}),I=i++,$=Ce({id:I,path:l,touched:!1,pending:!1,valid:!0,validated:!!(!((o=H[R])===null||o===void 0)&&o.length),required:Z,initialValue:y,errors:qn([]),bails:(f=r==null?void 0:r.bails)!==null&&f!==void 0?f:!1,label:r==null?void 0:r.label,type:(r==null?void 0:r.type)||"default",value:N,multiple:!1,__flags:{pendingUnmount:{[I]:!1},pendingReset:!1},fieldsCount:1,validate:r==null?void 0:r.validate,dirty:E(()=>!G(P(N),P(y)))});return c.value.push($),g.value[R]=$,_(),b.value[R]&&!H[R]&&de(()=>{me(R,{mode:"silent"})}),Ie(l)&&be(l,U=>{_();const Se=F(N.value);g.value[U]=$,de(()=>{he(d,U,Se)})}),$}const ce=mn(on,5),ee=mn(on,5),K=Ze(async l=>await(l==="silent"?ce():ee()),(l,[r])=>{const o=re(V.errorBag.value),y=[...new Set([...re(l.results),...c.value.map(m=>m.path),...o])].sort().reduce((m,j)=>{var N;const R=j,Z=S(R)||Y(R),I=((N=l.results[R])===null||N===void 0?void 0:N.errors)||[],$=A(Z==null?void 0:Z.path)||R,U=Tt({errors:I,valid:!I.length},m.results[$]);return m.results[$]=U,U.valid||(m.errors[$]=U.errors[0]),Z&&p.value[$]&&delete p.value[$],Z?(Z.valid=U.valid,r==="silent"||r==="validated-only"&&!Z.validated||O(Z,U.errors),m):(O($,I),m)},{valid:l.valid,results:{},errors:{}});return l.values&&(y.values=l.values),y});function ne(l){c.value.forEach(l)}function S(l){const r=typeof l=="string"?_e(l):l;return typeof r=="string"?g.value[r]:r}function Y(l){return c.value.filter(o=>l.startsWith(o.path)).reduce((o,f)=>o?f.path.length>o.path.length?f:o:f,void 0)}let oe=[],ve;function pe(l){return oe.push(l),ve||(ve=de(()=>{[...oe].sort().reverse().forEach(o=>{vn(d,o)}),oe=[],ve=null})),ve}function je(l){return function(o,f){return function(m){return m instanceof Event&&(m.preventDefault(),m.stopPropagation()),ne(j=>j.touched=!0),a.value=!0,s.value++,Ve().then(j=>{const N=F(d);if(j.valid&&typeof o=="function"){const R=F(D.value);let Z=l?R:N;return j.values&&(Z=j.values),o(Z,{evt:m,controlledValues:R,setErrors:w,setFieldError:O,setTouched:ze,setFieldTouched:te,setValues:fe,setFieldValue:C,resetForm:De,resetField:an})}!j.valid&&typeof f=="function"&&f({values:N,evt:m,errors:j.errors,results:j.results})}).then(j=>(a.value=!1,j),j=>{throw a.value=!1,j})}}}const W=je(!1);W.withControlled=je(!0);function Ue(l,r){const o=c.value.findIndex(y=>y.path===l),f=c.value[o];if(!(o===-1||!f)){if(de(()=>{me(l,{mode:"silent",warn:!1})}),f.multiple&&f.fieldsCount&&f.fieldsCount--,Array.isArray(f.id)){const y=f.id.indexOf(r);y>=0&&f.id.splice(y,1),delete f.__flags.pendingUnmount[r]}(!f.multiple||f.fieldsCount<=0)&&(c.value.splice(o,1),un(l),_(),delete g.value[l])}}function h(l){re(g.value).forEach(r=>{r.startsWith(l)&&delete g.value[r]}),c.value=c.value.filter(r=>!r.path.startsWith(l)),de(()=>{_()})}const V={formId:t,values:d,controlledValues:D,errorBag:J,errors:b,schema:T,submitCount:s,meta:k,isSubmitting:a,isValidating:u,fieldArrays:v,keepValuesOnUnmount:Q,validateSchema:P(T)?K:void 0,validate:Ve,setFieldError:O,validateField:me,setFieldValue:C,setValues:fe,setErrors:w,setFieldTouched:te,setTouched:ze,resetForm:De,resetField:an,handleSubmit:W,useFieldModel:Un,defineInputBinds:zn,defineComponentBinds:Dn,defineField:Le,stageInitialValue:Tn,unsetInitialValue:un,setFieldInitialValue:$e,createPathState:ue,getPathState:S,unsetPathValue:pe,removePathState:Ue,initialValues:x,getAllPathStates:()=>c.value,destroyPath:h,isFieldTouched:Bn,isFieldDirty:kn,isFieldValid:Nn};function C(l,r,o=!0){const f=F(r),y=typeof l=="string"?l:l.path;S(y)||ue(y),he(d,y,f),o&&me(y)}function M(l,r=!0){re(d).forEach(o=>{delete d[o]}),re(l).forEach(o=>{C(o,l[o],!1)}),r&&Ve()}function fe(l,r=!0){Ae(d,l),v.forEach(o=>o&&o.reset()),r&&Ve()}function se(l,r){const o=S(A(l))||ue(l);return E({get(){return o.value},set(f){var y;const m=A(l);C(m,f,(y=A(r))!==null&&y!==void 0?y:!1)}})}function te(l,r){const o=S(l);o&&(o.touched=r)}function Bn(l){var r;return!!(!((r=S(l))===null||r===void 0)&&r.touched)}function kn(l){var r;return!!(!((r=S(l))===null||r===void 0)&&r.dirty)}function Nn(l){var r;return!!(!((r=S(l))===null||r===void 0)&&r.valid)}function ze(l){if(typeof l=="boolean"){ne(r=>{r.touched=l});return}re(l).forEach(r=>{te(r,!!l[r])})}function an(l,r){var o;const f=r&&"value"in r?r.value:X(x.value,l),y=S(l);y&&(y.__flags.pendingReset=!0),$e(l,F(f),!0),C(l,f,!1),te(l,(o=r==null?void 0:r.touched)!==null&&o!==void 0?o:!1),O(l,(r==null?void 0:r.errors)||[]),de(()=>{y&&(y.__flags.pendingReset=!1)})}function De(l,r){let o=F(l!=null&&l.values?l.values:B.value);o=r!=null&&r.force?o:Ae(B.value,o),o=ae(T)&&q(T.cast)?T.cast(o):o,ie(o),ne(f=>{var y;f.__flags.pendingReset=!0,f.validated=!1,f.touched=((y=l==null?void 0:l.touched)===null||y===void 0?void 0:y[f.path])||!1,C(f.path,X(o,f.path),!1),O(f.path,void 0)}),r!=null&&r.force?M(o,!1):fe(o,!1),w((l==null?void 0:l.errors)||{}),s.value=(l==null?void 0:l.submitCount)||0,de(()=>{Ve({mode:"silent"}),ne(f=>{f.__flags.pendingReset=!1})})}async function Ve(l){const r=(l==null?void 0:l.mode)||"force";if(r==="force"&&ne(m=>m.validated=!0),V.validateSchema)return V.validateSchema(r);u.value=!0;const o=await Promise.all(c.value.map(m=>m.validate?m.validate(l).then(j=>({key:m.path,valid:j.valid,errors:j.errors})):Promise.resolve({key:m.path,valid:!0,errors:[]})));u.value=!1;const f={},y={};for(const m of o)f[m.key]={valid:m.valid,errors:m.errors},m.errors.length&&(y[m.key]=m.errors[0]);return{valid:o.every(m=>m.valid),results:f,errors:y}}async function me(l,r){var o;const f=S(l);if(f&&(r==null?void 0:r.mode)!=="silent"&&(f.validated=!0),T){const{results:y}=await K((r==null?void 0:r.mode)||"validated-only");return y[l]||{errors:[],valid:!0}}return f!=null&&f.validate?f.validate(r):(!f&&(o=r==null?void 0:r.warn),Promise.resolve({errors:[],valid:!0}))}function un(l){vn(x.value,l)}function Tn(l,r,o=!1){$e(l,r),he(d,l,r),o&&!(e!=null&&e.initialValues)&&he(B.value,l,F(r))}function $e(l,r,o=!1){he(x.value,l,F(r)),o&&he(B.value,l,F(r))}async function on(){const l=P(T);if(!l)return{valid:!0,results:{},errors:{}};u.value=!0;const r=Be(l)||ae(l)?await bt(l,d):await Ot(l,d,{names:L.value,bailsMap:z.value});return u.value=!1,r}const Rn=W((l,{evt:r})=>{An(r)&&r.target.submit()});On(()=>{if(e!=null&&e.initialErrors&&w(e.initialErrors),e!=null&&e.initialTouched&&ze(e.initialTouched),e!=null&&e.validateOnMount){Ve();return}V.validateSchema&&V.validateSchema("silent")}),Ie(T)&&be(T,()=>{var l;(l=V.validateSchema)===null||l===void 0||l.call(V,"validated-only")}),Vn(Te,V);function Le(l,r){const o=q(r)||r==null?void 0:r.label,f=S(A(l))||ue(l,{label:o}),y=()=>q(r)?r(Fe(f,Me)):r||{};function m(){var I;f.touched=!0,((I=y().validateOnBlur)!==null&&I!==void 0?I:ge().validateOnBlur)&&me(f.path)}function j(){var I;((I=y().validateOnInput)!==null&&I!==void 0?I:ge().validateOnInput)&&de(()=>{me(f.path)})}function N(){var I;((I=y().validateOnChange)!==null&&I!==void 0?I:ge().validateOnChange)&&de(()=>{me(f.path)})}const R=E(()=>{const I={onChange:N,onInput:j,onBlur:m};return q(r)?Object.assign(Object.assign({},I),r(Fe(f,Me)).props||{}):r!=null&&r.props?Object.assign(Object.assign({},I),r.props(Fe(f,Me))):I});return[se(l,()=>{var I,$,U;return(U=(I=y().validateOnModelUpdate)!==null&&I!==void 0?I:($=ge())===null||$===void 0?void 0:$.validateOnModelUpdate)!==null&&U!==void 0?U:!0}),R]}function Un(l){return Array.isArray(l)?l.map(r=>se(r,!0)):se(l)}function zn(l,r){const[o,f]=Le(l,r);function y(N){f.value.onBlur(N)}function m(N){const R=ke(N);C(A(l),R,!1),f.value.onInput(N)}function j(N){const R=ke(N);C(A(l),R,!1),f.value.onChange(N)}return E(()=>Object.assign(Object.assign({},f.value),{onBlur:y,onInput:m,onChange:j,value:o.value}))}function Dn(l,r){const[o,f]=Le(l,r),y=S(A(l));function m(j){o.value=j}return E(()=>{const j=q(r)?r(Fe(y,Me)):r||{};return Object.assign({[j.model||"modelValue"]:o.value,[`onUpdate:${j.model||"modelValue"}`]:m},f.value)})}return Object.assign(Object.assign({},V),{values:$n(d),handleReset:()=>De(),submitForm:Rn})}function kt(e,n,t,i){const a={touched:"some",pending:"some",valid:"every"},u=E(()=>!G(n,P(t)));function s(){const d=e.value;return re(a).reduce((c,p)=>{const g=a[p];return c[p]=d[g](_=>_[p]),c},{})}const v=Ce(s());return Ln(()=>{const d=s();v.touched=d.touched,v.valid=d.valid,v.pending=d.pending}),E(()=>Object.assign(Object.assign({initialValues:P(t)},v),{valid:v.valid&&!re(i.value).length,dirty:u.value}))}function Nt(e,n,t){const i=wn(t),a=le(i),u=le(F(i));function s(v,d=!1){a.value=Ae(F(a.value)||{},F(v)),u.value=Ae(F(u.value)||{},F(v)),d&&e.value.forEach(c=>{if(c.touched)return;const g=X(a.value,c.path);he(n,c.path,F(g))})}return{initialValues:a,originalInitialValues:u,setInitialValues:s}}function Tt(e,n){return n?{valid:e.valid&&n.valid,errors:[...e.errors,...n.errors]}:e}const Rt=Qe({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,n){const t=ye(e,"validationSchema"),i=ye(e,"keepValues"),{errors:a,errorBag:u,values:s,meta:v,isSubmitting:d,isValidating:c,submitCount:p,controlledValues:g,validate:_,validateField:O,handleReset:w,resetForm:J,handleSubmit:b,setErrors:L,setFieldError:z,setFieldValue:H,setValues:Q,setFieldTouched:x,setTouched:B,resetField:ie}=Bt({validationSchema:t.value?t:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:i}),k=b((S,{evt:Y})=>{An(Y)&&Y.target.submit()},e.onInvalidSubmit),D=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):k;function T(S){nn(S)&&S.preventDefault(),w(),typeof n.attrs.onReset=="function"&&n.attrs.onReset()}function ue(S,Y){return b(typeof S=="function"&&!Y?S:Y,e.onInvalidSubmit)(S)}function ce(){return F(s)}function ee(){return F(v.value)}function K(){return F(a.value)}function ne(){return{meta:v.value,errors:a.value,errorBag:u.value,values:s,isSubmitting:d.value,isValidating:c.value,submitCount:p.value,controlledValues:g.value,validate:_,validateField:O,handleSubmit:ue,handleReset:w,submitForm:k,setErrors:L,setFieldError:z,setFieldValue:H,setValues:Q,setFieldTouched:x,setTouched:B,resetForm:J,resetField:ie,getValues:ce,getMeta:ee,getErrors:K}}return n.expose({setFieldError:z,setErrors:L,setFieldValue:H,setValues:Q,setFieldTouched:x,setTouched:B,resetForm:J,validate:_,validateField:O,resetField:ie,getValues:ce,getMeta:ee,getErrors:K}),function(){const Y=e.as==="form"?e.as:e.as?xe(e.as):null,oe=rn(Y,n,ne);return Y?Pe(Y,Object.assign(Object.assign(Object.assign({},Y==="form"?{novalidate:!0}:{}),n.attrs),{onSubmit:D,onReset:T}),oe):oe}}}),$t=Rt,Ut=Qe({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,n){const t=pn(Te,void 0),i=E(()=>t==null?void 0:t.errors.value[e.name]);function a(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?xe(e.as):e.as,s=rn(u,n,a),v=Object.assign({role:"alert"},n.attrs);return!u&&(Array.isArray(s)||!s)&&(s!=null&&s.length)?s:(Array.isArray(s)||!s)&&!(s!=null&&s.length)?Pe(u||"span",v,i.value):Pe(u,v,s)}}}),Lt=Ut;function qt(e){return e?!0:"欄位必填"}function Ht(e){return/^[\w.-]+@[a-zA-Z\d.-]+\.[a-zA-Z]{2,}$/.test(e)?!0:"請輸入正確 E-Mail"}export{Lt as E,Dt as F,Ht as a,$t as b,qt as i,Bt as u};
